"use strict";function Toast(t){if(!t.message)throw new Error("Toast.js - You need to set a mesasge to display");this.options=t,this.options.type=t.type||"default",this.options.stack=t.stack||!1,this.toastContainerEl=document.querySelector(".toastjs-container"),this.toastEl=document.querySelector(".toastjs"),this.toastMainContainerEl=document.querySelector("toastjs-main"),this.toastMainContainerEl||(this.toastMainContainerEl=document.createElement("div"),this.toastMainContainerEl.classList.add("toastjs-main"),document.body.appendChild(this.toastMainContainerEl)),this._init()}Toast.prototype._createElements=function(){var t=this;return new Promise(function(e,n){t.toastContainerEl=document.createElement("div"),t.toastContainerEl.classList.add("toastjs-container"),t.toastContainerEl.setAttribute("role","alert"),t.toastContainerEl.setAttribute("aria-hidden",!0),t.toastEl=document.createElement("div"),t.toastEl.classList.add("toastjs"),t.toastContainerEl.appendChild(t.toastEl),t.toastMainContainerEl.appendChild(t.toastContainerEl),document.body.appendChild(t.toastMainContainerEl),t.toastMainContainerEl.innerHTML=t.toastMainContainerEl.innerHTML,setTimeout(function(){return e()},500)})},Toast.prototype._addEventListeners=function(){var t=this;if(document.querySelector(".toastjs-btn--close").addEventListener("click",function(){t._close()}),this.options.customButtons){var e=Array.prototype.slice.call(document.querySelectorAll(".toastjs-btn--custom"));e.map(function(e,n){e.addEventListener("click",function(e){return t.options.customButtons[n].onClick(e)})})}},Toast.prototype._close=function(){var t=this;return new Promise(function(e,n){t.toastContainerEl.setAttribute("aria-hidden",!0),setTimeout(function(){t.toastEl.innerHTML="",t.toastEl.classList.remove("default","success","warning","danger"),t.focusedElBeforeOpen&&t.focusedElBeforeOpen.focus(),e()},300)})},Toast.prototype._open=function(){this.toastEl.classList.add(this.options.type),this.toastContainerEl.setAttribute("aria-hidden",!1);var t="";this.options.customButtons&&(t=this.options.customButtons.map(function(t,e){return'<button type="button" class="toastjs-btn toastjs-btn--custom">'+t.text+"</button>"}),t=t.join("")),this.toastEl.innerHTML="\n        <p>"+this.options.message+'</p>\n        <button type="button" class="toastjs-btn toastjs-btn--close">Close</button>\n        '+t+"\n    ",this.toastMainContainerEl.appendChild(this.toastContainerEl),this.focusedElBeforeOpen=document.activeElement,document.querySelector(".toastjs-btn--close").focus()},Toast.prototype._init=function(){var t=this;Promise.resolve().then(function(){return t.toastContainerEl?Promise.resolve():t._createElements()}).then(function(){return"false"==t.toastContainerEl.getAttribute("aria-hidden")?t._close():Promise.resolve()}).then(function(){t._open(),t._addEventListeners()})};